<html>
<head>
<link rel="shortcut icon" href=images/pluto-symbol.jpg type="image/x-icon" />
<title>
The Pluton Framework: pluton::fault
</title>
</head>

<body>

<center>
<a href=index.html>
<img height=100 src=images/pluto-charon.jpg ALT="[Pluto Charon Image]">
</a>
</center>

<h2 align=center>The Pluton Framework: pluton::fault</h2>

<h3>Introduction</h3>

The <code>pluton::fault</code> class is available when a fault is
indicated by
<a href=clientAPI.html#hasFault><code>pluton::client::hasFault()</code></a>
or
<a href=serviceAPI.html#hasFault><code>pluton::service::hasFault()</code></a>
(or their equivalent in other language bindings).

The sole intention of the <code>fault</code> class is to provide
diagnostic and error indications to the program or programmer. The
returned values are definitely <em>not</em> suitable for external or
user consumption.

<p>
A <code>pluton::fault</code> is a different kind of fault than that
returned in a request. A <code>pluton::fault</code> relates to the
mechanics of the <code>pluton::client</code> or
<code>pluton::service</code> classes and is usually indicative of some
systemic or programmer error. The error message generated by this
class includes information that should help diagnose systemic
problems, such as the line number in the source code of the library
and so on.

<h3>Table of Contents</h3>

<ol>
<li><a href=#hasFault><code>pluton::fault::hasFault()</code></a>
<li><a href=#getFaultCode><code>pluton::fault::getFaultCode()</code></a>
<li><a href=#getMessage><code>pluton::fault::getMessage()</code></a>

</ol>

<h4><a
name=hasFault>pluton::fault::hasFault()</h4>

Indicate whether the last call to the owning class had a fault return.

<h5>SYNOPSIS</h5>

<pre>
    #include &lt;pluton/fault.h&gt;

    pluton::fault F;

    bool F.hasFault();
</pre>

<h5>RETURN VALUE</h5>

<code>True</code> if the last call to the owning class has a fault.

<p>

<h4><a
name=getFaultCode>pluton::fault::getFaultCode()</h4>

Return the <code>pluton::faultCode</code> of the last fault. This
value uniquely and specifically identifies the fault. There are well
over fifty mnemonic definitions provided in
<code>&lt;pluton/fault.h&gt;</code>. The fined-grained granularity of the
errors is intended to maximize the diagnostic information available to
a caller.

<h5>SYNOPSIS</h5>

<pre>
    #include &lt;pluton/fault.h&gt;

    pluton::fault F;

    pluton::faultCode F.getFaultCode();
</pre>

<h5>RETURN VALUE</h5>

The <code>pluton::faultCode</code> of the last fault.

<p>


<h4><a
name=getMessage>pluton::fault::getMessage()</h4>

Return the text of the fault suitable for logging. This string
includes the fault code, a sub-fault code the errno value - if
relevant.

<h5>SYNOPSIS</h5>

<pre>
    #include &lt;string&gt;
    #include &lt;pluton/fault.h&gt;

    pluton::fault F;

    const std::string F.getMessage(const char* preMessage=0, bool longFormat=true);
</pre>

<h5>PARAMETERS</h5>

<table border=1>
<tr><th>Name<th>Description</tr>

<tr><td>preMessage<td>If present, a C-string pre-pended to the
returned string.</tr>

<tr><td>longFormat<td>If true, extended text is added to the error
message including an expansion of the fault code and errno. Also, the
module name and line number where the actually error was detected in
the API is also included.
</tr>

</table>

<h5>SAMPLE MESSAGES</h5>

(line wrapped for easier viewing)

<pre>
pluton::Fault=-107/-1 errno=9:Bad file descriptor            \
 (shmImpossiblySmall:Lookup Map file too small to be valid)  \
 at pluton::client::initialize->initialize:273


pluton::Fault=-31 (serviceKeyBad:Format of serviceKey is invalid)  \
 Service Function is zero length at pluton::client::addRequest->setRendezvousPath:295 
</pre>

<p>
<hr>
<font size=-1>
$Id: fault.html 263388 2009-11-30 21:31:28Z markd $
&copy; Copyright Yahoo! Inc, 2007
</font>
</body>
</html>
